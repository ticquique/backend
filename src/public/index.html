<!-- <!doctype html>
<html lang="en">

<head>
  <title>Inarts</title>
  <base href="/">
  <link rel="fluid-icon" type="image/png" href="./assets/favicon/favicon512.png" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
</head>

<body>
  <app-root>
    <style>
      #loader {
        bottom: 0;
        height: 175px;
        left: 0;
        margin: auto;
        position: absolute;
        right: 0;
        top: 0;
        width: 175px;
      }

      #loader {
        bottom: 0;
        height: 175px;
        left: 0;
        margin: auto;
        position: absolute;
        right: 0;
        top: 0;
        width: 175px;
      }

      #loader .dot {
        bottom: 0;
        height: 100%;
        left: 0;
        margin: auto;
        position: absolute;
        right: 0;
        top: 0;
        width: 87.5px;
      }

      #loader .dot::before {
        border-radius: 100%;
        content: "";
        height: 87.5px;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: scale(0);
        width: 87.5px;
      }

      #loader .dot:nth-child(7n+1) {
        transform: rotate(45deg);
      }

      #loader .dot:nth-child(7n+1)::before {
        animation: 0.8s linear 0.1s normal none infinite running load;
        background: #00ff80 none repeat scroll 0 0;
      }

      #loader .dot:nth-child(7n+2) {
        transform: rotate(90deg);
      }

      #loader .dot:nth-child(7n+2)::before {
        animation: 0.8s linear 0.2s normal none infinite running load;
        background: #00ffea none repeat scroll 0 0;
      }

      #loader .dot:nth-child(7n+3) {
        transform: rotate(135deg);
      }

      #loader .dot:nth-child(7n+3)::before {
        animation: 0.8s linear 0.3s normal none infinite running load;
        background: #00aaff none repeat scroll 0 0;
      }

      #loader .dot:nth-child(7n+4) {
        transform: rotate(180deg);
      }

      #loader .dot:nth-child(7n+4)::before {
        animation: 0.8s linear 0.4s normal none infinite running load;
        background: #0040ff none repeat scroll 0 0;
      }

      #loader .dot:nth-child(7n+5) {
        transform: rotate(225deg);
      }

      #loader .dot:nth-child(7n+5)::before {
        animation: 0.8s linear 0.5s normal none infinite running load;
        background: #2a00ff none repeat scroll 0 0;
      }

      #loader .dot:nth-child(7n+6) {
        transform: rotate(270deg);
      }

      #loader .dot:nth-child(7n+6)::before {
        animation: 0.8s linear 0.6s normal none infinite running load;
        background: #9500ff none repeat scroll 0 0;
      }

      #loader .dot:nth-child(7n+7) {
        transform: rotate(315deg);
      }

      #loader .dot:nth-child(7n+7)::before {
        animation: 0.8s linear 0.7s normal none infinite running load;
        background: magenta none repeat scroll 0 0;
      }

      #loader .dot:nth-child(7n+8) {
        transform: rotate(360deg);
      }

      #loader .dot:nth-child(7n+8)::before {
        animation: 0.8s linear 0.8s normal none infinite running load;
        background: #ff0095 none repeat scroll 0 0;
      }

      @keyframes load {
        100% {
          opacity: 0;
          transform: scale(1);
        }
      }

      @keyframes load {
        100% {
          opacity: 0;
          transform: scale(1);
        }
      }
    </style>
    <div class="container">
      <div class="row">
        <div id="loader">
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
        </div>
      </div>
    </div>
  </app-root>
<script type="text/javascript" src="inline.bundle.js"></script><script type="text/javascript" src="polyfills.bundle.js"></script><script type="text/javascript" src="styles.bundle.js"></script><script type="text/javascript" src="scripts.bundle.js"></script><script type="text/javascript" src="vendor.bundle.js"></script><script type="text/javascript" src="main.bundle.js"></script></body>

</html> -->

<script src="/socket.io/socket.io.js"></script>
<script>
    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    var query = getParameterByName('query');
    console.log(query);
    var socket = io('https://localhost:3333', {
        query: `token=${query}`,
        transports: ['websocket']
    });
    socket.on('connect', function () {
        console.log('eee')
    });
    socket.on('event', function (data) {});
    socket.on('notif', function (data) {
        console.log(data)
    });
    socket.on('newMessage', function (data) {
        console.log(data);
    });
    socket.on('disconnect', function (data) {
        console.log('a')
    });

</script>
<p>aaa</p>
